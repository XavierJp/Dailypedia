(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(22)},16:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),i=n.n(o),c=(n(16),n(1)),s=n.n(c),l=n(2),d=n(5),m=n(6),u=n(8),p=n(7),h=n(9),f=(n(20),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))),g="https://fr.wikipedia.org/w/api.php?action=query&list=random&rnlimit=1&rnnamespace=0&format=json&origin=*",w="https://fr.wikipedia.org/w/api.php?action=parse&pageid=\xa7\xa7\xa7&format=json&origin=*",v="https://fr.wikipedia.org/w/api.php?action=parse&page=\xa7\xa7\xa7&format=json&origin=*",b=function(e){function t(e){var n;Object(d.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).fetchData=function(){var e=Object(l.a)(s.a.mark(function e(t){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Origin","*"),e.next=4,fetch(t,{mode:"cors",headers:n});case 4:return a=e.sent,e.abrupt("return",a.json());case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.getRandomUrl=Object(l.a)(s.a.mark(function e(){var t,a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.randomBtn&&n.randomBtn.classList.add("loading"),e.next=4,n.fetchData(g);case 4:return t=e.sent,a=w.replace("\xa7\xa7\xa7",t.query.random[0].id),e.next=8,n.fetchData(a);case 8:r=e.sent,n.setState({body:r,loading:!1},function(){document.documentElement.scrollTop=0,document.body.scrollTop=0,n.randomBtn&&n.randomBtn.classList.remove("loading")}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),n.fetchWikiData=Object(l.a)(s.a.mark(function e(){var t,a,r,o=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n.randomBtn&&n.randomBtn.classList.add("loading"),a=n.state.pathName,t||a||console.error("Should not happen"),e.next=6,n.fetchData(t||v.replace("\xa7\xa7\xa7",a||""));case 6:r=e.sent,n.setState({body:r,loading:!1},function(){document.documentElement.scrollTop=0,document.body.scrollTop=0,n.randomBtn&&n.randomBtn.classList.remove("loading")});case 8:case"end":return e.stop()}},e,this)}));var a=window.location.pathname.indexOf("wiki")>=0?window.location.pathname.split("/wiki/"):[];return n.state={body:null,loading:!0,pathName:a[a.length-1]||null},n.state.pathName?n.fetchWikiData():n.getRandomUrl(),n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",function(){if(e.progressBar){var t=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;e.progressBar.style.width=Math.round(100*t)/100+"%"}})}},{key:"render",value:function(){var e=this,t=this.state.body;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{ref:function(t){return e.progressBar=t}})),r.a.createElement("div",{className:"random"},r.a.createElement("button",{type:"submit",onClick:this.getRandomUrl,ref:function(t){return e.randomBtn=t}},r.a.createElement("div",{className:"donut"}),r.a.createElement("div",{className:"content"},f))),t&&t.parse&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,t.parse.title),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.parse.text["*"]}})))}}]),t}(r.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.c019ba5e.chunk.js.map